<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:p="http://primefaces.org/ui">
    <cc:interface>
        <cc:attribute name="action" method-signature="void action()" required="true" />
        <cc:attribute name="buttonLabel" required="true" />
        <cc:attribute name="showConfirmPassword" type-="boolean" default="false" />
    </cc:interface>

<cc:implementation>
    <h:form>
        <p:messages id="msgs" autoUpdate="true" closable="true"
                    errorClass="error-message" infoClass="success-message"/>
        <div class="form-group">
            <p:outputLabel for="username" value="Username:" />
            <p:inputText id="username" value="#{loginBean.username}" required="true"
                         requiredMessage="Username is required."/>
        </div>

        <div class="form-group">
            <p:outputLabel for="password" value="Password:" />
            <p:inputText id="password" value="#{loginBean.password}" required="true"
                         requiredMessage="Password is required." />
        </div>

        <h:panelGroup rendered="#{cc.attrs.showConfirmPassword}">
            <div class="form-group">
                <p:outputLabel for="confirmPassword" value="Confirm Password:" />
                <p:password id="confirmPassword" value="#{loginBean.confirmPassword}" required="true"
                            requiredMessage="Please confirm password."/>
            </div>
        </h:panelGroup>

        <p:commandButton value="#{cc.attrs.buttonLabel}" action="#{cc.attrs.action}"
                         update="msgs" styleClass="form-button"/>
    </h:form>
</cc:implementation>

</html>